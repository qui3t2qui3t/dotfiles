# Change the prefix key to C-a
set -g prefix C-a
unbind C-b
bind C-a send-prefix
bind | split-window -h

# Turn the mouse on, but without copy mode dragging
set -g mouse on
unbind -n MouseDrag1Pane
unbind -Tcopy-mode MouseDrag1Pane
unbind -n MouseDown3Pane

# Border color
# set -g pane-active-border-style bg=default,fg=#57e0a0

# clock mode
setw -g clock-mode-colour colour1

# copy mode
setw -g mode-style 'fg=colour1 bg=colour18 bold'

# pane borders
set -g pane-border-style 'fg=colour1'
set -g pane-active-border-style 'fg=colour4'


# statusbar miess
#set -g status-bg black
#set -g status-fg white
#set -g status-interval 5 
#set -g status-left-length 90
#set -g status-right-length 60
#set -g status-left "#[fg=Green]#(whoami)#[fg=white]::#[fg=blue]#(hostname -s)#[fg=white]::#[fg=yellow]#(curl ipecho.net/plain;echo)"
#set -g status-justify left
#set -g status-right '#[fg=Cyan]#S #[fg=white]%a %d %b %R'

# statusbar qui3t
#set -g status-position bottom
#set -g status-justify left
#set -g status-style 'fg=colour4'
#set -g status-left ''
#set -g status-right "#([ ! -z $(ip a | egrep 'ppp0|tun0' -A 2 | awk '/inet /{printf $2}') ] && echo $(ip a | egrep 'ppp0|tun0' -A 2 | awk '/inet /{printf \"VPN \"$2}'))  || #S |  %d-%m-%Y %H:%M "
#set -g status-right "#([ ! -z $(ip a | egrep 'ppp0|tun0' -A 2 | awk '/inet /{printf $2}') ] && echo $(ip a | egrep 'ppp0|tun0' -A 2 | awk '/inet /{printf \"VPN \"$2}'))  #S |  %d-%m-%Y %H:%M "
#set -g status-right-length 90
#set -g status-left-length 60
#setw -g window-status-current-style 'fg=colour0 bg=colour4 bold'
#setw -g window-status-current-format '  #I #W #F '
#setw -g window-status-style 'fg=colour4 dim'




#status tmux-nova
set -g @plugin 'o0th/tmux-nova'
set -g status-left-length 100
set -g status-right-length 100

set -g @nova-nerdfonts true
set -g @nova-nerdfonts-left 
set -g @nova-nerdfonts-right 

set -g @nova-pane-active-border-style "#44475a"
set -g @nova-pane-border-style "#282a36"
set -g @nova-status-style-bg "#4c566a"
set -g @nova-status-style-fg "#C0C8D8"
# set -g @nova-status-style-fg "#d8dee9"

# set -g @nova-status-style-active-bg "#89c0d0"
set -g @nova-status-style-active-bg "#d08770"
set -g @nova-status-style-active-fg "#2e3540"
set -g @nova-status-style-double-bg "#2d3540"

set -g @nova-pane "#I#{?pane_in_mode,  #{pane_mode},}  #W"

set -g @nova-segment-mode "#{?client_prefix,Ω,ω}"
# set -g @nova-segment-mode-colors "#78a2c1 #2e3440"
set -g @nova-segment-mode-colors "#5E81AC #2e3440"
#set -g @nova-segment-whoami "#(whoami)@#h"
#set -g @nova-segment-whoami-colors "#78a2c1 #2e3440"
#set -g @nova-segment-custom "#{(curl ipecho.net/plain;echo)}"
# set -g @nova-segment-custom "#(/home/quiet/scripts/tmux-ip.sh)::#S::%d-%m-%Y %H:%M"
# set -g @nova-segment-custom-colors "#A97EA1 #282a36"
set -g @nova-segment-custom-colors "#A97EA1 #282a36"

set -g @nova-rows 0
set -g @nova-segments-0-left "mode"
set -g @nova-segments-0-right "whoami"
set -g @nova-segments-0-right "custom"
set -g @nova-segments-0-right "custom"

# Status grubvox
# set -g @plugin 'egel/tmux-gruvbox'
# set desired theme options...
# set -g @tmux-gruvbox 'dark' # or 'dark256', 'light', 'light256'



#True color option fron nvim:
set-option -a terminal-features 'xterm-256color:RGB'

setw -g window-status-bell-style 'fg=colour2 bg=colour1 bold'

# messages
set -g message-style 'fg=colour2 bg=colour0 bold'
###

# Quality of life
set -g history-limit 50000
set -g allow-rename off

# Renumber windows
set-option -g renumber-windows on

# Search Mode VI
set-window-option -g mode-keys vi

# Set default directory for new windows in this session to current directory:
bind v attach-session -c "#{pane_current_path}" \;  display "Session attached to #{pane_current_path} !"

# Reload config
bind r source-file ~/.tmux.conf \; display "Reloaded!"

## Join Windows
bind-key j command-prompt -p "join pane from:" "join-pane -s '%%'"
#bind-key s command-prompt -p "send pane to:" "join-pane -t '%%'"

#Tmux resurrect - Restore pane contents
set -g @resurrect-capture-pane-contents 'on'

#Tmux resurrect and continuum plugins
set -g @continuum-restore 'on'
set -g @continuum-boot 'on'

#Tmux logging path to current path
set -g @logging-path '#{pane_current_path}'
set -g @screen-capture-path '#{pane_current_path}'
set -g @save-complete-history-path '#{pane_current_path}'

#set -g @catppuccin_flavour 'frappe' # or latte, frappe, macchiato, mocha

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-logging'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @plugin 'tmux-plugins/tmux-yank'
#set -g @plugin 'catppuccin/tmux'
# Other examples:
# set -g @plugin 'github_username/plugin_name'
# set -g @plugin 'github_username/plugin_name#branch'
# set -g @plugin 'git@github.com:user/plugin'
# set -g @plugin 'git@bitbucket.com:user/plugin'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
